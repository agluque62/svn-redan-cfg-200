(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{MiIG:function(e,t,a){"use strict";a.r(t),a.d(t,"ATSFormComponent",function(){return C});var i=a("fXoL"),n=a("VITL"),o=a("ofXK"),r=a("3Pt+"),l=a("bSwM"),u=a("kmnG"),c=a("d3UM"),s=a("qFsG"),m=a("FKr1");function b(e,t){if(1&e&&(i.Tb(0,"mat-option",13),i.yc(1),i.Sb()),2&e){const e=t.$implicit;i.kc("value",e.value),i.Cb(1),i.Ac(" ",e.viewValue," ")}}function v(e,t){if(1&e&&(i.Tb(0,"mat-option",13),i.yc(1),i.Sb()),2&e){const e=t.$implicit;i.kc("value",e.value),i.Cb(1),i.Ac(" ",e.viewValue," ")}}function f(e,t){if(1&e){const e=i.Ub();i.Tb(0,"mat-form-field",4),i.Tb(1,"mat-label"),i.yc(2,"Time Out respuesta llamada"),i.Sb(),i.Tb(3,"mat-select",14),i.ac("valueChange",function(t){return i.rc(e),i.ec(2).timeOpt=t})("selectionChange",function(t){return i.rc(e),i.ec(2).changeTimeOpt(t)}),i.xc(4,v,2,2,"mat-option",6),i.Sb(),i.Sb()}if(2&e){const e=i.ec(2);i.Cb(3),i.kc("value",e.timeOpt),i.Cb(1),i.kc("ngForOf",e.timeOpts)}}function d(e,t){1&e&&(i.Tb(0,"mat-error"),i.yc(1),i.Sb()),2&e&&(i.Cb(1),i.Ac(" ","N\xfamero no v\xe1lido. El valor debe estar entre 200000 y 399999. Y debe ser de longitud 6"," "))}function p(e,t){1&e&&(i.Tb(0,"mat-error"),i.yc(1),i.Sb()),2&e&&(i.Cb(1),i.Ac(" ","N\xfamero no v\xe1lido. El valor debe estar entre 200000 y 399999. Y debe ser de longitud 6"," "))}function h(e,t){if(1&e&&(i.Tb(0,"mat-option",13),i.yc(1),i.Sb()),2&e){const e=t.$implicit;i.kc("value",e.value),i.Cb(1),i.Ac(" ",e.viewValue," ")}}function g(e,t){if(1&e){const e=i.Ub();i.Tb(0,"form",1),i.Tb(1,"mat-checkbox",2),i.yc(2,"Permite Llamadas No ED137"),i.Sb(),i.Tb(3,"mat-checkbox",3),i.yc(4,"Respuesta autom\xe1tica"),i.Sb(),i.Tb(5,"mat-form-field",4),i.Tb(6,"mat-label"),i.yc(7,"Lado"),i.Sb(),i.Tb(8,"mat-select",5),i.ac("[value]",function(){return i.rc(e),i.ec().resourceForm.value.lado}),i.xc(9,b,2,2,"mat-option",6),i.Sb(),i.Sb(),i.xc(10,f,5,2,"mat-form-field",7),i.Tb(11,"mat-form-field",8),i.Tb(12,"mat-label"),i.yc(13,"Origen llamadas salientes de test"),i.Sb(),i.Ob(14,"input",9),i.xc(15,d,2,1,"mat-error",10),i.Sb(),i.Tb(16,"mat-form-field",8),i.Tb(17,"mat-label"),i.yc(18,"Destino llamadas salientes de test"),i.Sb(),i.Ob(19,"input",11),i.xc(20,p,2,1,"mat-error",10),i.Sb(),i.Tb(21,"mat-form-field",4),i.Tb(22,"mat-label"),i.yc(23,"Duraci\xf3n tono interrupci\xf3n (sg.)"),i.Sb(),i.Tb(24,"mat-select",12),i.ac("valueChange",function(t){return i.rc(e),i.ec().duration=t}),i.xc(25,h,2,2,"mat-option",6),i.Sb(),i.Sb(),i.Sb()}if(2&e){const e=i.ec();let t=null,a=null;i.kc("formGroup",e.resourceForm),i.Cb(9),i.kc("ngForOf",e.sides),i.Cb(1),i.kc("ngIf",e.isR2),i.Cb(4),i.kc("maxLength",6),i.Cb(1),i.kc("ngIf",null==(t=e.resourceForm.get("origen_test"))?null:t.hasError("pattern")),i.Cb(4),i.kc("maxLength",6),i.Cb(1),i.kc("ngIf",null==(a=e.resourceForm.get("destino_test"))?null:a.hasError("pattern")),i.Cb(4),i.kc("disabled",e.visualizationMode)("value",e.duration),i.Cb(1),i.kc("ngForOf",e.durations)}}let C=(()=>{class e{constructor(e){this.userService=e,this.sides=[{value:0,viewValue:"A"},{value:1,viewValue:"B"}],this.timeOpts=[{value:0,viewValue:"Normal"},{value:256,viewValue:"Siempre Tr\xe1nsito"}],this.durations=[{value:5,viewValue:"5"},{value:6,viewValue:"6"},{value:7,viewValue:"7"},{value:8,viewValue:"8"},{value:9,viewValue:"9"},{value:10,viewValue:"10"},{value:11,viewValue:"11"},{value:12,viewValue:"12"},{value:13,viewValue:"13"},{value:14,viewValue:"14"},{value:15,viewValue:"15"}],this.isR2=!1,this.isReady=!1,this.visualizationMode=!1}ngOnInit(){this.visualizationMode=!!this.visualizationPermission(),3===this.resourceForm.value.tipo_interfaz_tel?(this.isR2=!0,this.checkTimeOut()):this.isR2=!1,this.isReady=!0}visualizationPermission(){return!this.userService.isRole("ADMIN")&&!this.userService.isRole("CONFIGURATION")&&this.userService.isRole("VISUALIZATION")}checkTimeOut(){this.resourceForm.value.duracion_tono_interrup>256?(this.timeOpt=256,this.duration=this.resourceForm.value.duracion_tono_interrup-this.timeOpt):(this.timeOpt=0,this.duration=this.resourceForm.value.duracion_tono_interrup)}changeTimeOpt(e){this.timeOpt=e.value}}return e.\u0275fac=function(t){return new(t||e)(i.Nb(n.a))},e.\u0275cmp=i.Hb({type:e,selectors:[["ats-form"]],decls:1,vars:1,consts:[["class","main-form",3,"formGroup",4,"ngIf"],[1,"main-form",3,"formGroup"],["formControlName","iEnableNoED137"],["formControlName","respuesta_automatica"],["appearance","fill"],["formControlName","lado","name","side",3,"[value]"],[3,"value",4,"ngFor","ngForOf"],["appearance","fill",4,"ngIf"],["appearance","legacy"],["matInput","","formControlName","origen_test",3,"maxLength"],[4,"ngIf"],["matInput","","formControlName","destino_test",3,"maxLength"],["name","duration",3,"disabled","value","valueChange"],[3,"value"],["name","timeoutSel",3,"value","valueChange","selectionChange"]],template:function(e,t){1&e&&i.xc(0,g,26,10,"form",0),2&e&&i.kc("ngIf",t.isReady)},directives:[o.l,r.z,r.s,r.k,l.a,r.r,r.i,u.c,u.f,c.a,o.k,s.b,r.c,m.j,u.b],styles:[".main-form[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;width:50%}.main-form[_ngcontent-%COMP%]   mat-checkbox[_ngcontent-%COMP%], .main-form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{padding:inherit}"]}),e})()}}]);